{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"I:\\\\Online_Store\\\\projectfrontend\\\\src\\\\user\\\\Signin.js\";\nimport React, { useState } from 'react';\nimport Base from '../core/Base';\nimport { Link, Redirect } from \"react-router-dom\";\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\nconst [values, setValues] = useState({\n  name: \"\",\n  email: \"ten@hitesh.com\",\n  password: \"12345\",\n  error: \"\",\n  success: false,\n  loading: false,\n  didRedirect: false\n});\nconst {\n  name,\n  email,\n  password,\n  error,\n  success,\n  loading,\n  didRedirect\n} = values;\n\nconst handleChange = name => event => {\n  setValues({ ...values,\n    error: false,\n    [name]: event.target.value\n  });\n};\n\nconst onSubmit = event => {\n  event.preventDefault();\n  setValues({ ...values,\n    error: false,\n    loading: true\n  });\n  signin({\n    email,\n    password\n  }).then(data => {\n    console.log(\"DATA\", data);\n\n    if (data.token) {\n      //let sessionToken = data.token;\n      authenticate(data, () => {\n        console.log(\"TOKKEN ADDED\");\n        setValues({ ...values,\n          didRedirect: true\n        });\n      });\n    } else {\n      setValues({ ...values,\n        loading: false\n      });\n    }\n  }).catch(e => console.log(e));\n};\n\nconst performRedirect = () => {\n  if (isAuthenticated()) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 16\n    }, this);\n  }\n};\n\nconst loadingMessage = () => {\n  return loading && /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"alert alert-info\",\n    children: /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 13\n  }, this);\n};\n\nconst successMessage = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-6 offset-sm-3 text-left\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-success\",\n        style: {\n          display: success ? \"\" : \"none\"\n        },\n        children: [\"New account created successfully. Please \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/signin\",\n          children: \"login now.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 62\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n\nconst errorMessage = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-6 offset-sm-3 text-left\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-danger\",\n        style: {\n          display: error ? \"\" : \"none\"\n        },\n        children: \"Check all fields again\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 9\n  }, this);\n};\n\nconst signInForm = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-6 offset-sm-3 text-left\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-light\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"email\",\n            className: \"form-control\",\n            value: email,\n            onChange: handleChange(\"email\"),\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-light\",\n            children: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"password\",\n            className: \"form-control\",\n            value: password,\n            onChange: handleChange(\"password\"),\n            type: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onSubmit,\n          className: \"btn btn-success btn-block\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 9\n  }, this);\n};\n\nconst Signin = () => {\n  return /*#__PURE__*/_jsxDEV(Base, {\n    title: \"Welcome to sign in page\",\n    description: \"Welcome to plant store\",\n    children: [loadingMessage(), signInForm(), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center\",\n      children: JSON.stringify(values)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), performRedirect()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 9\n  }, this);\n};\n\n_c = Signin;\nexport default Signin;\n\nvar _c;\n\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"sources":["I:/Online_Store/projectfrontend/src/user/Signin.js"],"names":["React","useState","Base","Link","Redirect","signin","authenticate","isAuthenticated","values","setValues","name","email","password","error","success","loading","didRedirect","handleChange","event","target","value","onSubmit","preventDefault","then","data","console","log","token","catch","e","performRedirect","loadingMessage","successMessage","display","errorMessage","signInForm","Signin","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport Base from '../core/Base'\r\nimport { Link, Redirect } from \"react-router-dom\"\r\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\r\nconst [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"ten@hitesh.com\",\r\n    password: \"12345\",\r\n    error: \"\",\r\n    success: false,\r\n    loading: false,\r\n    didRedirect: false,\r\n});\r\nconst { name, email, password, error, success, loading, didRedirect } =\r\n    values;\r\n\r\nconst handleChange = (name) =>\r\n    (event) => {\r\n        setValues({ ...values, error: false, [name]: event.target.value });\r\n    };\r\n\r\nconst onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n\r\n    signin({ email, password })\r\n        .then((data) => {\r\n            console.log(\"DATA\", data);\r\n            if (data.token) {\r\n                //let sessionToken = data.token;\r\n                authenticate(data, () => {\r\n                    console.log(\"TOKKEN ADDED\");\r\n                    setValues({\r\n                        ...values,\r\n                        didRedirect: true,\r\n                    });\r\n                });\r\n            } else {\r\n                setValues({\r\n                    ...values,\r\n                    loading: false,\r\n                });\r\n            }\r\n        })\r\n        .catch((e) => console.log(e));\r\n};\r\n\r\nconst performRedirect = () => {\r\n    if (isAuthenticated()) {\r\n        return <Redirect to=\"/\" />;\r\n    }\r\n};\r\n\r\nconst loadingMessage = () => {\r\n    return (\r\n        loading && (\r\n            <div className=\"alert alert-info\">\r\n                <h2>Loading...</h2>\r\n            </div>\r\n        )\r\n    );\r\n};\r\n\r\nconst successMessage = () => {\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                <div\r\n                    className=\"alert alert-success\"\r\n                    style={{ display: success ? \"\" : \"none\" }}\r\n                >\r\n                    New account created successfully. Please <Link\r\n                        to=\"/signin\"\r\n                    >\r\n                        login now.\r\n            </Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst errorMessage = () => {\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                <div\r\n                    className=\"alert alert-danger\"\r\n                    style={{ display: error ? \"\" : \"none\" }}\r\n                >\r\n                    Check all fields again\r\n          </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst signInForm = () => {\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                <form>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"text-light\">Email</label>\r\n                        <input\r\n                            name=\"email\"\r\n                            className=\"form-control\"\r\n                            value={email}\r\n                            onChange={handleChange(\"email\")}\r\n                            type=\"text\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label className=\"text-light\">password</label>\r\n                        <input\r\n                            name=\"password\"\r\n                            className=\"form-control\"\r\n                            value={password}\r\n                            onChange={handleChange(\"password\")}\r\n                            type=\"password\"\r\n                        />\r\n                    </div>\r\n                    <button\r\n                        onClick={onSubmit}\r\n                        className=\"btn btn-success btn-block\"\r\n                    >\r\n                        Submit\r\n            </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Signin = () => {\r\n    return (\r\n        <Base title=\"Welcome to sign in page\" description=\"Welcome to plant store\">\r\n            {loadingMessage()}\r\n\r\n            {signInForm()}\r\n            <p className=\"text-center\">\r\n                {JSON.stringify(values)}\r\n            </p>\r\n            {performRedirect()}\r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default Signin\r\n"]},"metadata":{},"sourceType":"module"}